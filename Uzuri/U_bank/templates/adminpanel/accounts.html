{% extends 'adminpanel/base.html' %}
{% load static %}
{% block title %}Uzuri Bank Admin{% endblock %}
{% block extra_css %}
  <link rel="stylesheet" href="{% static 'AdminStyles/admin.css' %}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
{% endblock %}
{% block content %}    
  <hr/>
  <section class="main">
    <div class="main_intro">
      <h1>Accounts</h1>
    </div>
    <div class="accounts">
      <div class="salary">
        <h2>Salary Accounts</h2>
        <h3>Total</h3>
        <h4>{{ totals.total_salary |floatformat:2}}</h4>
      </div>
      <div class="savings">
        <h2>Savings Accounts</h2>
        <h3>Total</h3>
        <h4>{{ totals.total_savings |floatformat:2}}</h4>
      </div>
      <div class="fixed">
        <h2>Fixed Accounts</h2>
        <h3>Total</h3>
        <h4>{{ totals.total_fixed |floatformat:2}}</h4>
      </div>
    </div>
  </section>
  <div class="filter">
    <div class="col-md-12">
      <div class="table-responsive">
        <table id="bootstrapdatatable" class="table table-striped table-bordered"  width="100%" >
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Fixed Account</th>
              <th>Savings Account</th>
              <th>salary Account</th>
              <!-- New column for Amount -->
            </tr>
          </thead>
          <tbody>           
            {% for account in accounts %}
              <tr>
                <td>{{ account.Account_ID }}</td>
                <td>{{ account.Client.Name }}</td>  <!-- Assuming Client has a Name field -->
                <td>{{ account.Fixed_Account }}</td>
                <td>{{ account.Savings_Account }}</td>
                <td>{{ account.Salary_Account }}</td>
              </tr>
              {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>    
  <br>
{% endblock %}
{% block scripts %}
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.datatables.net/1.12.0/js/jquery.dataTables.min.js"></script>
  <script src="{% static 'AdminScript/query.js' %}"></script>
{% endblock %}
